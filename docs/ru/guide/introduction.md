---
sidebarDepth: 3
---

# Что такое Becsy?

Becsy это Entity Component System (ECS) фреймворк на TypeScript и JavaScript с которым писать производительный многопоточный код можно почти без дополниетльных усилий. Он вдохновлён [ECSY](https://github.com/ecsyjs/ecsy) и [bitecs](https://github.com/NateTheGreatt/bitECS), а также черпает [идеи из Flecs](https://ajmmertens.medium.com/why-vanilla-ecs-is-not-enough-d7ed4e3bebe5).


::: danger
Becsy находится в статусе беты (текущая версия - 0.x). Он достаточно хорошо протестирован, но многие из запланированных функций всё ещё отсутствуют, a API будет часто меняться. И, что важнее, **многопоточность ещё не реализована**.
:::

## Приоритеты

Becsy позиционируется как часть широкого семейства ECS-фреймворков и следует определённым приоритетам:
1. Многопоточность: все приложения, разработанные на Becsy, должны иметь возможность эффективно использовать многопоточность и при этом требовать как можно меньше изменений по сравнению с однопоточной версией. Я считаю, что многопоточность — единственный способ масштабировать производительность, а ECS — идеальная архитектура, позволяющая сделать многопоточность в JavaScript простой и практичной.
2. Удобство: API должен оставаться мощным, выразительным и безопасным. Я считаю, что разработчики выбирают TypeScript/JavaScript, потому что это язык высокого уровня, на котором они могут быстро и лаконично реализовывать свои проекты. Если они стремятся к высокой производительности, они выберут язык и реализацию ECS, которые лучше подходят для этой цели.
3. Производительность: несмотря на остальные приоритеты, Becsy делает всё возможное, чтобы оставаться быстрым. Я считаю, что хорошая реализация ECS должна быть пригодна не только для игр.

Приоритеты выше описаны от наиболее важного к наименее важному. Это значит, что я пожертвую удобством API, если это будет нужно для поддержки многопоточности, и смирюсь со снижением производительности ради лучшего API.

## Возможности

От ECSY мы взяли:<br>
:white_check_mark: дружелюбное ООП API, поддерживающее как JS, так и TS<br>
:white_check_mark: возможность использовать несколько запросов в одной системе<br>
:white_check_mark: реактивные запросы (вместо событий и коллбэков)<br>
:white_check_mark: явное отслеживание изменений<br>
:white_check_mark: ссылки на нативные объекты js в компонентах<br>
:white_check_mark: исчерпывающая документация<br>

От bitecs мы взяли:<br>
:white_check_mark: широкое использование `ArrayBuffer` для улучшения производительности<br>
:white_check_mark: архитектура типа sparse array<br>
:white_check_mark: совместимость с Node и браузерной средой без дополнительных зависимостей<br>

Затем добавили:<br>
:white_check_mark: реализация на нативном TypeScript<br>
:white_check_mark: выбор стратегии хранения компонентов<br>
:white_check_mark: двунаправленные ссылки на сущности со строгой ссылочной целостностью<br>
:white_check_mark: декларативное определение порядка выполнения систем, основанное на зависимостях<br>
:white_check_mark: возможность выполнять код параллельно для более естественных поэтапных процессов<br>
:white_check_mark: встроенную поддержку для организации машин состояний(вопреки словам [Sander Mertens](https://ajmmertens.medium.com/why-storing-state-machines-in-ecs-is-a-bad-idea-742de7a18e59))<br>
:white_check_mark: слабые ссылки на нативные объекты JS, для упрощения интеграции со сторонними библиотеками<br>

Всё ещё в работе:<br>
:white_large_square: многопоточная обработка систем<br>
:white_large_square: опциональная, но тесно интегрированная система сетевой репликации данных<br>

## Поддержка

Becsy активно поддерживается, но это не моя основная работа, так что вопросы могут ждать ответов 24-48 часов, в то время как исправления могут выходить в течении 1-2 недель (но обычно гораздо быстрее). Вы всегда можете открыть [issue](https://github.com/lastolivegames/becsy/issues), или [написать в Discord](https://discord.gg/X72ct6hZSr) чтобы получить помощь или обсудить интересные идеи!

## Примеры

Некоторые проекты, использующие Becsy:
- [Special Releases 2022](https://www.special-releases.com/)
- [Moyosa Spaces](https://moyosaspaces.com/)
- [Confluence whiteboards](https://www.atlassian.com/software/confluence/whiteboards)
- [Crayon Town](https://crayon.town/)
- [Scrolly Page](https://scrolly.page/)
- [Zines Forever](https://zinesforever.com/)

## Благодарности

Хочу сказать огромное спасибо ранним пользователям Becsy, которые помогли сформировать набор функций и API, и нашли тонны багов! Спасибо [ECSY](https://github.com/ecsyjs/ecsy) за вдохновление и отличную документацию, которая послужила примером для этого сайта. И спасибо [Kate Liu](https://www.instagram.com/lemonikate/) за логотип!
